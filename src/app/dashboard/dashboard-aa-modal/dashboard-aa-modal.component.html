<div class="modal-header">
  <h4 class="modal-title pull-left">{{title}}</h4>
  <a class="pull-right govuk-link modal-close-link" aria-label="Close" (click)="bsModalRef.hide()">
    <span aria-hidden="true">Close</span>
  </a>
</div>
<div class="modal-body">
 <div class="aa-modal-left-section">
    <div [innerHTML]='textContent'></div>
    <a class="govuk-link" target="_blank" href="https://www.gov.uk/government/publications/school-resource-management-self-assessment-tool/dashboard-support-notes#spend-on-teaching-staff-as-a-percentage-of-total-expenditure">Calculating your data</a>
 </div>
 <div class="aa-modal-right-section">
  <table class="govuk-table aa-modal-right-section__table">
    <thead class="govuk-table__head">
      <tr class="govuk-table__row">
        <th scope="col" class="govuk-table__header" *ngIf="tresholdFormat==='percentageOfExp'" >% of exp.</th>
        <th scope="col" class="govuk-table__header" *ngIf="tresholdFormat==='percentageOfInc'" >% of inc.</th>
        <th scope="col" class="govuk-table__header" *ngIf="tresholdFormat==='percentageOfWf'" >% of workforce</th>
        <th scope="col" class="govuk-table__header" *ngIf="tresholdFormat==='currency'" >Treshold</th>
        <th scope="col" class="govuk-table__header" *ngIf="tresholdFormat==='number'" >Treshold</th>
        <th scope="col" class="govuk-table__header">Rating against tresholds</th>
      </tr>
    </thead>
    <tbody class="govuk-table__body">
      <tr class="govuk-table__row" *ngFor='let treshold of tresholds'>
        <td class="govuk-table__cell">
          <span *ngIf="tresholdFormat==='percentageOfExp'  || tresholdFormat==='percentageOfInc'  || tresholdFormat==='percentageOfWf'" [class]="{'highlighted-percentage': treshold.scoreLow === matchingTreshold.scoreLow}">{{treshold.scoreLow | percent : '1.0-1'}} - {{treshold.scoreHigh | percent : '1.0-1'}}</span>
          <span *ngIf="tresholdFormat==='currency'" [class]="{'highlighted-percentage': treshold.scoreLow === matchingTreshold.scoreLow}">{{treshold.scoreLow | currency: 'GBP' :'symbol': '1.0-0'}} - {{treshold.scoreHigh | currency: 'GBP' :'symbol': '1.0-0'}}</span>
          <span *ngIf="tresholdFormat==='number'" [class]="{'highlighted-percentage': treshold.scoreLow === matchingTreshold.scoreLow}">{{treshold.scoreLow | number: '1.0-1'}} - {{treshold.scoreHigh | number: '1.0-1'}}</span>
        </td>
        <td class="govuk-table__cell"><span class="rating-box" [class]='treshold.ratingColour'>{{treshold.ratingText}}</span>
        </td>
      </tr>
    </tbody>
  </table>
 </div>
</div>
