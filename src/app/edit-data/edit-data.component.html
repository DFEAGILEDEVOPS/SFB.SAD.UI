<app-edit-data-breadcrumb [name]='originalScenario.name' [urn]='originalScenario.urn'></app-edit-data-breadcrumb>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <h1 class="govuk-heading-xl">Edit data</h1>
    <p class="govuk-body-s">
      Assessing
      <span class="highlight">
        <span class="govuk-!-font-weight-bold">{{originalScenario.name}}</span>
      </span>
    </p>
  </div>
</div>

<hr class="govuk-section-break govuk-section-break--m">

<form (ngSubmit)="onSubmit()" [formGroup]="editDataForm">

    <fieldset class="govuk-fieldset" formGroupName='scenarioDetails'>
      <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
        <h2 class="govuk-fieldset__heading">
          Scenario details
        </h2>
      </legend>
      <div class="govuk-form-group">
        <label class="govuk-label" for="scenario-name">
          Name of scenario
        </label>
        <input class="govuk-input govuk-input--width-20" id="scenario-name" name="scenario-name" type="text"
          formControlName='scenarioName' required>
          <div [hidden]="scenarioName.valid || scenarioName.pristine" class="alert alert-danger">
            Selection is required
          </div>
      </div>

      <div class="govuk-form-group">
        <label class="govuk-label" for="scenario-term">
          Year of scenario
        </label>
        <select class="govuk-select" id="scenario-term" name="scenario-term" formControlName='scenarioTerm'>
          <option value="2017/2018">2017/2018</option>
          <option value="2018/2019">2018/2019</option>
          <option value="2019/2020">2019/2020</option>
          <option value="2020/2021">2020/2021</option>
        </select>
      </div>
    </fieldset>

    <fieldset class="govuk-fieldset" formGroupName='schoolDetails'>
      <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
        <h2 class="govuk-fieldset__heading">
          School details
        </h2>
      </legend>

      <div class="govuk-form-group">
        <label class="govuk-label" for="school-phase">
          School phase
        </label>
        <span class="govuk-hint">
          The {{originalScenario.latestTerm}} value was <span
            class="govuk-!-font-weight-bold">{{originalScenario.overallPhaseLatestTerm}}</span>
        </span>
        <select class="govuk-select" id="school-phase" name="school-phase" formControlName='schoolPhase'>
          <option value="Nursery">Nursery</option>
          <option value="Primary">Primary</option>
          <option value="Secondary">Secondary</option>
          <option value="Special">Special</option>
          <option value="Pupil referral unit">Pupil referral unit</option>
          <option value="All-through">All-through</option>
        </select>
      </div>

      <div class="govuk-form-group">
        <label class="govuk-label" for="sixth-form">
          Has sixth form?
        </label>
        <span class="govuk-hint">
          The {{originalScenario.latestTerm}} value was <span
            class="govuk-!-font-weight-bold">{{originalScenario.hasSixthFormLatestTerm}}</span>
        </span>
        <select class="govuk-select" id="sixth-form" name="sixth-form" formControlName='hasSixthForm'>
          <option value="true">Yes</option>
          <option value="false">No</option>
        </select>
      </div>

      <div class="govuk-form-group">
        <label class="govuk-label" for="london-weighting">
          London weighting
        </label>
        <span class="govuk-hint">
          The {{originalScenario.latestTerm}} value was <span
            class="govuk-!-font-weight-bold">{{originalScenario.londonWeightingLatestTerm}}</span>
        </span>
        <select class="govuk-select" id="london-weighting" name="london-weighting" formControlName='londonWeighting'>
          <option value="Neither">Neither</option>
          <option value="Inner">Inner</option>
          <option value="Outer">Outer</option>
        </select>
      </div>

      <div class="govuk-form-group">
        <label class="govuk-label" for="number-pupils">
          Number of pupils
        </label>
        <span  class="govuk-hint">
          The {{originalScenario.latestTerm}} value was <span
            class="govuk-!-font-weight-bold">{{originalScenario.numberOfPupilsLatestTerm}}</span>
        </span>
        <input class="govuk-input govuk-input--width-20" id="number-pupils" name="number-pupils" type="text"
          formControlName='numberOfPupils'>
      </div>

      <div class="govuk-form-group">
        <label class="govuk-label" for="fsm">
          Percentage of pupils eligible for FSM
        </label>
        <span  class="govuk-hint">
          The {{originalScenario.latestTerm}} value was <span
            class="govuk-!-font-weight-bold">{{originalScenario.fsmLatestTerm}}</span>
        </span>
        <input class="govuk-input govuk-input--width-20" id="fsm" name="fsm" type="text"
          formControlName='fsm'>
      </div>

    </fieldset>


  <div class="govuk-grid-row govuk-body">
    <div class="govuk-grid-column-full">
      <button class="govuk-button" data-module="govuk-button" type="submit">
        Submit
      </button>
      <a routerLink="/self-assessment/{{originalScenario.urn}}"
        class="govuk-link govuk-link--no-visited-state back-button">Back</a>
    </div>
  </div>

</form>
