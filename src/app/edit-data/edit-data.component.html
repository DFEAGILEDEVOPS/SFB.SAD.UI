<app-edit-data-breadcrumb [name]='originalScenario.name' [urn]='originalScenario.urn'></app-edit-data-breadcrumb>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <h1 class="govuk-heading-xl">Edit data</h1>
    <p class="govuk-body-s">
      Assessing
      <span class="highlight">
        <span class="govuk-!-font-weight-bold">{{originalScenario.name}}</span>
      </span>
    </p>
  </div>
</div>

<hr class="govuk-section-break govuk-section-break--m">

<form (ngSubmit)="onSubmit()" [formGroup]="editDataForm">

    <fieldset class="govuk-fieldset" formGroupName='scenarioDetails'>
      <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
        <h2 class="govuk-fieldset__heading">
          Scenario details
        </h2>
      </legend>
      <div class="govuk-form-group">
        <label class="govuk-label" for="scenario-name">
          Name of scenario
        </label>
        <input class="govuk-input govuk-input--width-20" id="scenario-name" name="scenario-name" type="text"
          formControlName='scenarioName' required>
          <div [hidden]="editDataForm.value.scenarioDetails.scenarioName.valid || editDataForm.value.scenarioDetails.scenarioName.pristine" class="alert alert-danger">
            Selection is required
          </div>
      </div>
    </fieldset>

    <fieldset class="govuk-fieldset" formGroupName='schoolDetails'>
      <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
        <h2 class="govuk-fieldset__heading">
          School details
        </h2>
      </legend>

      <div class="govuk-form-group">
        <label class="govuk-label" for="school-phase">
          School phase
        </label>
        <span id="account-number-hint" class="govuk-hint">
          The {{originalScenario.latestTerm}} value was <span
            class="govuk-!-font-weight-bold">{{originalScenario.overallPhaseWSixthFormLatestTerm}}</span>
        </span>
        <select class="govuk-select" id="school-phase" name="school-phase" formControlName='schoolPhase'>
          <option value="Nursery">Nursery</option>
          <option value="Primary">Primary</option>
          <option value="Secondary">Secondary</option>
          <option value="Special">Special</option>
          <option value="Pupil referral unit">Pupil referral unit</option>
          <option value="All-through">All-through</option>
        </select>
      </div>

      <div class="govuk-form-group">
        <label class="govuk-label" for="number-pupils">
          Number of pupils
        </label>
        <span id="account-number-hint" class="govuk-hint">
          The {{originalScenario.latestTerm}} value was <span
            class="govuk-!-font-weight-bold">{{originalScenario.numberOfPupilsLatestTerm}}</span>
        </span>
        <input class="govuk-input govuk-input--width-20" id="number-pupils" name="number-pupils" type="text"
          formControlName='numberOfPupils'>
      </div>

    </fieldset>


  <div class="govuk-grid-row govuk-body">
    <div class="govuk-grid-column-full">
      <button class="govuk-button" data-module="govuk-button" type="submit">
        Submit
      </button>
      <a routerLink="/self-assessment/{{originalScenario.urn}}"
        class="govuk-link govuk-link--no-visited-state back-button">Back</a>
    </div>
  </div>

</form>
