<div
  *ngIf='firstScenarioLoaded && firstScenario.isTresholdsRefreshed && secondScenarioLoaded && secondScenario.isTresholdsRefreshed'>

  <app-sidebyside-breadcrumb [urn]='firstScenario.urn' [name]='firstScenario.name' class="hide-in-print">
  </app-sidebyside-breadcrumb>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      <h1 class="govuk-heading-xl">Self-assessment dashboard</h1>
      <div class="govuk-caption-m date-caption"
        *ngIf='firstScenario.lastEditTimeStamp > secondScenario.lastEditTimeStamp'>Page last edited:
        {{firstScenario.lastEditTimeStamp | date: 'dd/MM/yy, HH:mm'}}</div>
      <div class="govuk-caption-m date-caption"
        *ngIf='secondScenario.lastEditTimeStamp > firstScenario.lastEditTimeStamp'>Page last edited:
        {{secondScenario.lastEditTimeStamp | date: 'dd/MM/yy, HH:mm'}}</div>
      <p class="govuk-body-s">
        Assessing
        <span class="highlight">
          <span class="govuk-!-font-weight-bold">{{firstScenario.name}}</span>
        </span>
        using <span class="govuk-!-font-weight-bold">custom</span> finance data.
      </p>
    </div>
  </div>

  <app-sidebyside-characteristics [scenarioName1]='firstScenario.scenarioName'
    [phase1]='firstScenario.overallPhaseWSixthForm' [londonWeight1]='firstScenario.londonWeighting'
    [noPupils1]='firstScenario.numberOfPupils' [FSM1]='firstScenario.fsm' [SizeLookup1]='firstScenario.sadSizeLookup'
    [FSMLookup1]='firstScenario.sadFSMLookup' [scenarioName2]='secondScenario.scenarioName'
    [phase2]='secondScenario.overallPhaseWSixthForm' [londonWeight2]='secondScenario.londonWeighting'
    [noPupils2]='secondScenario.numberOfPupils' [FSM2]='secondScenario.fsm' [SizeLookup2]='secondScenario.sadSizeLookup'
    [FSMLookup2]='secondScenario.sadFSMLookup' [IsMobileScreen]='isMobileScreen'></app-sidebyside-characteristics>

  <div class="govuk-grid-row hide-in-print">
    <div class="govuk-grid-column-one-half">
      <a [routerLink]="" class="govuk-link a-button govuk-!-font-weight-bold">
        <img src="assets/images/icon-file-download.png" class="small-icon" />
        <span id="downloadPage"> Download page</span>
      </a>
      <a [routerLink]="" class="govuk-link a-button govuk-!-font-weight-bold ml-4" (click)='onPrintPage()'>
        <img src="assets/images/icon-print.png" class="small-icon" />
        <span> Print page</span>
      </a>
    </div>
    <div class="govuk-grid-column-one-half">
      <button class="govuk-button govuk-button--secondary float-right reset-button" data-module="govuk-button"
        (click)='onReset()'>
        Reset dashboard
      </button>
    </div>
  </div>

  <app-sidebyside-table-desktop *ngIf='!isMobileScreen' [firstScenario]='firstScenario' [secondScenario]='secondScenario'
    (modalTriggered)='openModalWithComponent($event)' (scenarioRemoveTriggered)='removeScenario($event)'>
  </app-sidebyside-table-desktop>

  <app-sidebyside-table-mobile *ngIf='isMobileScreen' [firstScenario]='firstScenario' [secondScenario]='secondScenario'
    (modalTriggered)='openModalWithComponent($event)' (scenarioRemoveTriggered)='removeScenario($event)'>
  </app-sidebyside-table-mobile>

</div>

<div
  [hidden]='firstScenarioLoaded && firstScenario.isTresholdsRefreshed && secondScenarioLoaded && secondScenario.isTresholdsRefreshed'>
  Loading...
</div>
